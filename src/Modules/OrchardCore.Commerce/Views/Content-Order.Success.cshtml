@using OrchardCore.Commerce.Abstractions
@using OrchardCore.Commerce.Drivers
@using OrchardCore.Commerce.Helpers
@using OrchardCore.Commerce.Models
@using OrchardCore.ContentManagement
@using OrchardCore.ContentManagement.Display
@using OrchardCore.ContentManagement.Display.ContentDisplay

@inject IContentManager contentManager
@inject IProductService productService

@model dynamic

@{
    var viewModel = new OrderPartViewModel();
    await OrderPartDisplayDriverHelpers.PopulateViewModelAsync(
        viewModel,
        ((ContentItem) Model.ContentItem).As<OrderPart>(),
        productService,
        contentManager);
}
@await DisplayAsync(viewModel)
